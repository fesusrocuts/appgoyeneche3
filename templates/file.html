
<!-- Jquery JS -->
<script src="{{ url_for('static', filename='js/jquery.js') }}"></script>
<!--
<form action = "http://localhost:5000/app1/form/debt_portfolio/file" method = "POST" onkeypress=""enctype = "multipart/form-data">
     <input type = "file" name = "file" />
     <input type = "submit"/>
  </form>
-->

<input type="file" name="file" class="file">
<button type="button" name="button" class="upfile">Upload file</button>
<!--

<form>
  <input id="xls" name="xls" type="file" />
  <input type="submit" value="submit"/>
</form>
<script type="text/javascript">
//form Submit
$("form").submit(function(evt){
  evt.preventDefault();
  var formData = new FormData($(this)[0]);
  $.ajax({
     url: '/app1/form/debt_portfolio/file',
     type: 'POST',
     data: formData,
     async: false,
     cache: false,
     contentType: false,
     enctype: 'multipart/form-data',
     processData: false,
     success: function (response) {
       alert(response);
     }
  });
  return false;
});


function upload2(){
  var formData = new FormData();
  formData.append('file', $('.file')[0].files[0]);

  $.ajax({
         url : 'upload.php',
         type : 'POST',
         data : formData,
         processData: false,  // tell jQuery not to process the data
         contentType: false,  // tell jQuery not to set contentType
         success : function(data) {
             console.log(data);
             alert(data);
         }
  });
}
//$(".upfile").bind("click", upload)
-->
<script type="text/javascript">

function upload(){
  console.log("fn upload")
  var formData = new FormData();
  formData.append('file', $('input[type=file]')[0].files[0]);
  $.ajax({
     url: '/app1/form/debt_portfolio/file',
     type: 'POST',
     data: formData,
     async: false,
     cache: false,
     contentType: false,
     enctype: 'multipart/form-data',
     processData: false,
     success: function (response) {
       //alert(response);
     }
  });
  return false;
}
$(".upfile").bind("click", upload)

</script>
